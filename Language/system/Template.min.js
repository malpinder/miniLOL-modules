(function(){return Class.create({initialize:function(a){this.root=a;Event.observe(document,":module.Language.change",function(b){this.set(b.memo)}.bind(this))},set:function(a){this.template=miniLOL.theme.template.load("/resources/languages/#{code}/template".interpolate(a),this.root);if(!this.template)throw Error("Language template not found.");},apply:function(a,b){return this.callbacks[a].call(this,b)},callbacks:{global:function(a){var b="";a.each(function(c){b+=this.apply("language",c)},this);return this.template.getElementsByTagName("global")[0].firstChild.nodeValue.interpolate({data:b})},
language:function(a){return this.template.getElementsByTagName("language")[0].firstChild.nodeValue.interpolate({name:a.name,SELECTED:a.name==miniLOL.module.get("Language").language.current.name?"SELECTED":""})}}})})();
