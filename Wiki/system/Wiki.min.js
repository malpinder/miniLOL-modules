Class.create({initialize:function(a,c,d){this.root=a;this.resource=new miniLOL.Resource("Wiki",{load:function(b){b=miniLOL.Document.fix(miniLOL.utils.get(b));$A(b.getElementsByTagName("page")).each(function(e){this.data[e.getAttribute("id")]=e.firstChild.nodeValue},this)}});this.resource.load(this.root+c);Event.observe(document,":resource.loaded",function(b){if(!(b.memo.resource.name!="miniLOL.config"||b.memo.arguments[0]!=a+d)){miniLOL.config.Wiki||(miniLOL.config.Wiki={});if(!miniLOL.config.Wiki.format)miniLOL.config.Wiki.format=
"Markdown"}});miniLOL.resource.get("miniLOL.config").load(this.root+d)},render:function(a){return miniLOL.module.execute(miniLOL.config.Wiki.format,this.resource.data()[a])},dashboard:function(){var a="";a+="<ul>";Object.keys(this.resource.data()).each(function(c){a+='<li><a href="#module=Wiki&page=#{page}>#{page}</a></li>'.interpolate({page:c})});a+="</ul>";return a}});
