(function(){miniLOL.module.create("Menu Shell",{version:"0.1",type:"active",aliases:["minish"],initialize:function(){this.Shell=miniLOL.utils.require(this.root+"/system/Shell.js");this.shell=new this.Shell(this.root,"/resources/commands.xml");Event.observe(document,":menu.change",function(a){a.memo&&miniLOL.module.execute("Menu Shell",{set:true,menu:a.memo})})},execute:function(a){if(a.execute)return this.shell.execute(a.command);else if(a.set)a.menu&&this.shell.menu(a.menu);else a.append?miniLOL.theme.content.insert({bottom:a.content}):
miniLOL.content.set(this.shell.template.apply("PS1",this.shell.context()));return true}})})();
